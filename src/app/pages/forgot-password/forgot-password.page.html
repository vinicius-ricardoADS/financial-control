<ion-content [fullscreen]="true">
  <div class="forgot-container">
    <!-- Header com botão voltar -->
    <button class="back-button" (click)="goBack()">
      <ion-icon name="arrow-back"></ion-icon>
      <span>Voltar ao login</span>
    </button>

    <!-- Ícone principal -->
    <div class="icon-section">
      <div class="icon-wrapper">
        <ion-icon name="lock-closed-outline"></ion-icon>
      </div>
    </div>

    <!-- Card principal -->
    <ion-card class="forgot-card">
      <ion-card-header>
        <ion-card-title class="card-title">Redefinir Senha</ion-card-title>
        <ion-text color="medium">
          <p class="card-subtitle">
            Digite seu e-mail e crie uma nova senha
          </p>
        </ion-text>
      </ion-card-header>

      <ion-card-content>
        <!-- E-mail -->
        <div class="form-group">
          <label class="form-label">
            <ion-icon name="mail-outline"></ion-icon>
            E-mail
          </label>
          <div class="input-wrapper">
            <ion-input
              [(ngModel)]="email"
              type="email"
              placeholder="seu@email.com"
              [disabled]="isLoading"
              class="custom-input"
            ></ion-input>
          </div>
        </div>

        <!-- Nova Senha -->
        <div class="form-group">
          <label class="form-label">
            <ion-icon name="lock-closed-outline"></ion-icon>
            Nova Senha
          </label>
          <div class="input-wrapper">
            <ion-input
              [(ngModel)]="newPassword"
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Mínimo 6 caracteres"
              [disabled]="isLoading"
              class="custom-input"
            ></ion-input>
            <button
              type="button"
              class="toggle-password"
              (click)="togglePassword($event)"
            >
              <ion-icon [name]="showPassword ? 'eye-off' : 'eye'"></ion-icon>
            </button>
          </div>
        </div>

        <!-- Confirmar Senha -->
        <div class="form-group">
          <label class="form-label">
            <ion-icon name="lock-closed-outline"></ion-icon>
            Confirmar Senha
          </label>
          <div class="input-wrapper">
            <ion-input
              [(ngModel)]="confirmPassword"
              [type]="showConfirmPassword ? 'text' : 'password'"
              placeholder="Digite a senha novamente"
              [disabled]="isLoading"
              class="custom-input"
            ></ion-input>
            <button
              type="button"
              class="toggle-password"
              (click)="toggleConfirmPassword($event)"
            >
              <ion-icon [name]="showConfirmPassword ? 'eye-off' : 'eye'"></ion-icon>
            </button>
          </div>
        </div>

        <ion-button
          expand="block"
          color="primary"
          class="submit-button"
          (click)="resetPassword()"
          [disabled]="isLoading"
        >
          <ion-spinner name="crescent" *ngIf="isLoading"></ion-spinner>
          <span *ngIf="!isLoading">Redefinir Senha</span>
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
